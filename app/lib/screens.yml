# This details a list of screens divided into sections.
# Both screens and sections can detail conditions (skip_if, skip_unless) that
# cause them and any sub-elements they have to be skipped, with those conditions
# corresponding to attributes on the Estimate model.
# Sections can have sub_elements, comprising sections and/or screens
# Sections can also have a check_answer_group boolean which, if set,
# means that in the check answer flow, all child screens of that section
# should form a mini-loop.
sections:
  case_details:
    type: screen
  applicant:
    type: screen
  income:
    type: section
    skip_if: passporting
    sub_elements:
      employment:
        type: screen
        skip_unless: employed
      monthly_income:
        type: screen
      outgoings:
        type: screen
  capital:
    type: section
    sub_elements:
      property_info:
        type: section
        check_answer_group: true
        sub_elements:
          property:
            type: screen
          property_entry:
            type: screen
            skip_unless: owned?
      vehicle_info:
        type: section
        check_answer_group: true
        sub_elements:
          vehicle:
            type: screen
          owned_vehicle_details:
            type: section
            skip_unless: vehicle_owned
            sub_elements:
              vehicle_value:
                type: screen
              regular_use_details:
                type: section
                skip_unless: vehicle_in_regular_use
                sub_elements:
                  vehicle_age:
                    type: screen
                  vehicle_finance:
                    type: screen
      assets:
        type: screen
  check_answers:
    type: screen
