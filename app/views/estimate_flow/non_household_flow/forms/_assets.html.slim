= form_for(@form, url: wizard_path, method: :put) do |form|

  = form.govuk_error_summary t("generic.error_summary_title")
  = render "shared/heading",
             pre_header_text: t("estimate_flow.#{i18n_key}.caption"),
             header_text: t("estimate_flow.#{i18n_key}.legend"),
             post_header_texts: hints
  = form.govuk_fieldset legend: { text: t("estimate_flow.#{i18n_key}.non_household_flow.property.label") } do

    .govuk-hint = t("estimate_flow.#{i18n_key}.non_household_flow.property.hint")

    = render "shared/money_input",
            form:,
            field: :property_value,
            width: 5,
            label_text: t("estimate_flow.#{i18n_key}.non_household_flow.property.value.label")
    = render "shared/money_input",
            form:,
            field: :property_mortgage,
            width: 5,
            label_text: t("estimate_flow.#{i18n_key}.non_household_flow.property.mortgage.label")
    = render "shared/percentage_input",
            form:,
            field: :property_percentage_owned,
            width: 5,
            label_text: t("estimate_flow.#{i18n_key}.non_household_flow.property.percentage_owned.input"),
            hint_text: t("estimate_flow.#{i18n_key}.non_household_flow.property.percentage_owned.input_hint")

    - if show_smod_content
      .govuk-form-group
        = form.govuk_check_box :in_dispute, "property",
          label: { text: t("estimate_flow.assets.non_household_flow.property.dispute.label") }

  = form.govuk_fieldset legend: { text: t("estimate_flow.#{i18n_key}.non_household_flow.savings.label") } do

    .govuk-hint
      = t("estimate_flow.#{i18n_key}.non_household_flow.savings.hint")

    = render "shared/cost_of_living"

    = render "shared/money_input",
          form:,
          field: :savings,
          width: 5,
          label_text: t("estimate_flow.#{i18n_key}.non_household_flow.savings.input")

    - if show_smod_content
      .govuk-form-group
        = form.govuk_check_box :in_dispute, "savings",
          label: { text: t("generic.dispute") }

  = form.govuk_fieldset legend: { text: t("estimate_flow.#{i18n_key}.non_household_flow.investments.label") } do

    .govuk-hint = t("estimate_flow.#{i18n_key}.non_household_flow.investments.hint")

    = render "shared/money_input",
            form:,
            field: :investments,
            width: 5,
            label_text: t("estimate_flow.#{i18n_key}.non_household_flow.investments.input")

    - if show_smod_content
      .govuk-form-group
        = form.govuk_check_box :in_dispute, "investments",
          label: { text: t("generic.dispute") }

  = form.govuk_fieldset legend: { text: t("estimate_flow.#{i18n_key}.non_household_flow.valuables.label") } do

    .govuk-hint = t("estimate_flow.#{i18n_key}.non_household_flow.valuables.#{@check.level_of_help}_hint")

    = render "shared/money_input",
              form:,
              field: :valuables,
              width: 5,
              label_text: t("estimate_flow.#{i18n_key}.non_household_flow.valuables.input")

    - if show_smod_content
      .govuk-form-group
        = form.govuk_check_box :in_dispute, "valuables",
          label: { text: t("generic.dispute") }

  - if show_smod_content
    = render "smod_help"

  = form.govuk_submit t("generic.save_and_continue")
